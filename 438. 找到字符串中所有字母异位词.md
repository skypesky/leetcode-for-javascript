
# [438. 找到字符串中所有字母异位词]()

- 单纯的哈希表

```ts
function findAnagrams(s: string, p: string): number[] {
    if (p.length > s.length) {
        return [];
    }
    const map1 = new Map<string, number>(),
        map2 = new Map<string, number>(),
        results: number[] = [];
        
    for (let i = 0; i < p.length; ++i) {
        map1.set(p[i], (map1.get(p[i]) || 0) + 1);
    }
    for (let i = 0; i < s.length; ++i) {
        const headKey: string = s[i - p.length],
            currentKey: string = s[i];
        map2.set(currentKey, (map2.get(currentKey) || 0) + 1);
        i >= p.length && map2.set(headKey, map2.get(headKey) - 1) && !map2.get(headKey) && map2.delete(headKey);

        if (equals(map1, map2)) {
            results.push(i - p.length + 1);
        }
    }
    return results;
};
function equals(map1: Map<string, number>, map2: Map<string, number>): boolean {
    if (map1.size !== map2.size) {
        return false;
    }
    for (const [key1, value1] of map1) {
        if (value1 !== map2.get(key1)) {
            return false;
        }
    }
    return true;
}
```

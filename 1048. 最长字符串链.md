
# [1048. 最长字符串链](https://leetcode-cn.com/problems/longest-string-chain/)

- 哈希表 + 广义邻居(效率较低)

```ts
function longestStrChain(words: string[]): number {

    let maxLink: number = 1,
        map: Map<string, number> = new Map<string, number>();

    words.sort((aWord, bWord) => aWord.length - bWord.length);

    for (let i = 0; i < words.length; ++i) {
        let currentLink: number = 1;
        if (words[i].length !== 1) {
            const confusionWords = getConfusionWords(words[i]);
            for (let j = 0; j < confusionWords.length; ++j) {
                currentLink = Math.max(currentLink, (map.get(confusionWords[j]) || 0) + 1);
            }
        }
        maxLink = Math.max(maxLink, currentLink);
        const nextWords = getNextWords(words[i]);
        nextWords.forEach(nextWord => map.set(nextWord, currentLink));
    }

    return maxLink;
};

function getNextWords(word: string): string[] {
    const words: string[] = ["*", ...word],
        results: string[] = [];
    let index: number = 0;

    do {
        results.push(words.join(''));
        [words[index], words[index + 1]] = [words[index + 1], words[index]];
        ++index;
    } while (index <= word.length);

    return results;
}

function getConfusionWords(word: string): string[] {

    const results: string[] = [],
        words: string[] = [...word];

    for (let i = 0; i < words.length; ++i) {
        const ch: string = words[i];
        words[i] = '*';
        results.push(words.join(''));
        words[i] = ch;
    }

    return results;
}
```
